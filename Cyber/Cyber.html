<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <title><div id="output">TODO</div> : Raykesh. Bienvenue dans mon protfolio. </title> -->
    <!-- <link rel="icon" type="image/x-icon" href="/images/iconeDeBase.ico"> -->
    <link rel="icon" type="image/x-icon" href="./../images/iconeDeBase.ico?">
    <meta name="author" content="Raykesh" />
    <meta name="keywords" content="Cyber">
    <link rel="stylesheet" href="styleCyber.css">
    <style>
        /* A terme, il faudra le placer dans un fichier Css à part  */
    </style>
    <script>
        // A terme, il faudra le placer dans un fichier Js à part
        var path = window.location.pathname;
        var page = path.split("/").pop();
        // document.getElementById("output").innerHTML = page;
        document.title  = " |" + page + "| Raykesh: Bienvenue dans mon protfolio. ";
        console.log(" Le titre de la page est : " + document.title);
        console.log( page );

        console.log("La page précédente ?");
        // CodeColorSyntaxHighlightR(document.getElementById("CodeKaliZsh"), "zsh");
        
        function urlPrecedente(n, s) {
            n = n || 'url_prev';
            s = s || sessionStorage;
            var p = s.getItem(n);
            p = p ? p : '';
            s.setItem(n, location.href);
            return p;
        }
        var pagePrecedente = urlPrecedente();
        var pageActuelle = window.location.href;
        var path= "/Cyber/Cyber.html"
        var pageRacine = pageActuelle.substring(0, pageActuelle.length-path.length);
        var debug = true;
        var debug = false;
        console.log("La page précédente est : " + pagePrecedente);
        console.log("La page actuelle est   : " + pageActuelle  );
        console.log("La page Racine est     : " + pageRacine    );
        const Url_secure = ["https://raykesh-soneka.github.io/Portfolio/Cyber/Cyber.html",(pageRacine+"/AboutMe.html"), (pageRacine+"/Cyber/Cyber.html")];
        console.log("Les pages autoriser sont : ");
        Url_secure.forEach(element => {console.log(element+', ')});
        // if (pagePrecedente == "https://raykesh-soneka.github.io/Portfolio/Cyber/Cyber.html" || pagePrecedente == (pageRacine+"/AboutMe.html") || pagePrecedente == (pageRacine+"/Cyber/Cyber.html")) {
            //     //TODO
        if (Url_secure.includes(pagePrecedente)) {// if (pagePrecedente in Url_secure) {
            console.log(true);
            console.log("True");
        } else {
            console.log(false);
            console.log("False");
            if (debug) {
                console.log(pagePrecedente);
                console.log("https://raykesh-soneka.github.io/Portfolio/AboutMe.html");
                console.log((pageRacine+"/AboutMe.html"));
                const delay = ms => new Promise(res => setTimeout(res, ms));
                // const MaFonctionQuiAttend = async () => {
                async function MaFonctionQuiAttend() {
                    await delay(1000);
                    console.log("Waited 1s");
                    await delay(1000);
                    console.log("Waited 2s");
                    await delay(1000);
                    console.log("Waited 3s");
                    await delay(1000);
                    console.log("Waited 4s");
                    await delay(1000);
                    console.log("Waited 5s");
                    window.location.replace("../AboutMe.html");AboutMe
                };
                MaFonctionQuiAttend();
            }else{window.location.replace("../Le_Site_De_Raykesh.html");}
        }
        console.log("Fin");
        </script>
</head>
<body>
    <nav>
        <div class="LeProfile">
            <img src="https://avatars.githubusercontent.com/u/176900346?v=4" alt="L'image de profile" title="Raykesh" >
            <h1>Raykesh</h1>
        </div>
        <!-- ul>(a>li)*3 -->
        <ul>
            <a href="../Le_Site_De_Raykesh.html"    rel="noopener noreferrer" title="Page Principale">                                <li> Home      </li></a>
            <a href="Blue Team\BlueTeam.html"       rel="noopener noreferrer" title="Page Blue Team ">                                <li> Blue Team </li></a>
            <a href= "Red Team\RedTeam.html"        rel="noopener noreferrer" title="Page Red  Team ">                                <li> Red  Team </li></a>
            <a href= "Cyber.html"                   rel="noopener noreferrer" title="êtes vous sûr?êtes vous sûr de vouloir cliquer?"><li>   Cyber   </li></a>
        </ul>
        
        
    </nav>
    <div class="DebutDeLafin"></div>
    <section class="section1_de_la_page">
        <header>
            <h1>Bienvenue Dans la partie cyber</h1>
            <h3 hidden>patience c'est en cours</h3>
            <h4 hidden>merci</h4>
        </header>
        <h1 hidden>Raykesh</h1>
        <h3 hidden>n'essayer pas d'hacker ce site</h3>
        <h4 hidden>merci</h4>
        
        <details>
            <summary>Le Menu du jour / (Table of Contents) :  </summary>
            <nav>
                <h2>Cybersécurité : </h2>
                <ul>
                    <li><a href="#Item1_Kali">Kali Linux</a></li>
                    <li><a href="#Item2Cryptographie">Cryptographie</a></li>
                    <li><a href="#Item3">Item 3</a></li>
                </ul>
            </nav>
        </details>
        <h3 id="Item1_Kali">Kali Linux</h3>    

        <!-- 
            ```zsh
        ls
        ```
         -->

<br><br><br><br><br>
<!-- <pre><code >
    ls
</code></pre> -->
<!-- Sur https://highlight.hohli.com/?numbers=1&theme=github-dark&language=shell -->
<pre style="font-family:monospace;color: rgb(201, 209, 217); background-color: rgb(13, 17, 23); font-weight: 400; ">
<ol style="padding-left: 3em;" start="0"><li>ls</li></ol></pre>
Permet de voir le contenu (<strong style="font-size: 1.5em;">l</strong><span style="font-size: 0.5em;">i</span><strong style="font-size: 1.5em;">s</strong><span style="font-size: 0.5em;">ter</span>) du dossier/répertoire courant 
<!-- 
    <pre>
        
        Option utile : 
        <code>-a, --all</code>              : pour affichez tout (notament les fichiers cachées)
        <code>-A, --almost-all</code>       : pour presque affichez tout (notament les fichiers cachées sans affichez . et .. qui représent respactivement le répertoire courant et le répertoire parent )
        <code>-A, --help</code>             : pour affichez la documentation de base de la commande
        <code>-R, --recursive</code>        : pour affichez récursivement le contenu du répertoire courant et des sous-répertoires
        <code>-s, --size</code>             : pour affichez la taille des fichier
        Utilisation : ls [OPTION]... [FICHIER]...
        Example :
        Le fichier peut être un répertoire :
        ls ..
        ls
        ls / -R -a
    </pre> 
-->
<div class="pre" title=" Commande : ls">
    
    Option utile : 
    <code class="Option"><span class="OneLetterOption">-a,</span> --all</code>              : <span class="descriptionOption">pour affichez tout (notament les fichiers cachées)</span>
    <code class="Option"><span class="OneLetterOption">-A,</span> --almost-all</code>       : <span class="descriptionOption">pour presque affichez tout (notament les fichiers cachées sans affichez . et .. qui représent respactivement le répertoire courant et le répertoire parent )</span>
    <code class="Option helpDoc"><span class="OneLetterOption">   </span> --help</code>             : <span class="descriptionOption">pour affichez la documentation de base de la commande</span>
    <code class="Option"><span class="OneLetterOption">-R,</span> --recursive</code>        : <span class="descriptionOption">pour affichez récursivement le contenu du répertoire courant et des sous-répertoires</span>
    <code class="Option"><span class="OneLetterOption">-s,</span> --size</code>             : <span class="descriptionOption">pour affichez la taille des fichier</span>
    <span class="Utilisation">Utilisation</span> : ls <span class="Option">[<span class="OneLetterOption">O</span>PTION]...</span> [<span class="fichier">FICHIER</span>]...
    <span class="Exemple">Example</span> : 
        Le fichier peut être un répertoire : 
            ls <span class="fichier">..</span>
            ls
            <strong><span style="color: red;">sl</span></strong><!-- Ne pas condondre avec cette commande -->
            ls <span class="fichier">/</span> <span class="OneLetterOption">-R</span> <span class="OneLetterOption">-a</span>
            ls <span class="fichier">.</span> <span class="OneLetterOption">-a</span>
            ls <span class="OneLetterOption">-a</span> <span class="fichier">.</span>
        <strong><span style="color: red;">A</strong><span style="color: #ff8080">t</span><span style="color: #ffbf80">t</span><span style="color: #ffff80">e</span><span style="color: #c0ff80">n</span><span style="color: #80ff80">t</span><span style="color: #80ffff">i</span><span style="color: #8080ff">o</span><span style="color: #c680ff">n</span></span> : <span class="descriptionOption">Ne pas condondre avec <strong><span style="color: red;">sl</span></strong> qui est une autre commande</span>
    <span class="helpDoc"><span style="color: #ff0000">V</span><span style="color: #ff7f00">o</span><span style="color: #ff9200">i</span><span style="color: #00ff00">r</span><span style="color: #00ffff"> </span><span style="color: #0000ff">a</span><span style="color: #8b00ff">u</span><span style="color: #ff0000">s</span><span style="color: #ff7f00">s</span><span style="color: #ffa900">i</span><span style="color: #00ff00"> </span><span style="color: #3c00ff">:</span><span style="color: #0000ff"> </span><span style="color: gold;"> ls <span class="Option"><span class="OneLetterOption">--</span>help</span></span></span>
</div>

<br><br><br><br><br>

<pre style="font-family:monospace;color: rgb(201, 209, 217); background-color: rgb(13, 17, 23); font-weight: 400; ">
<ol style="padding-left: 3em;" start="1"><li>nmap</li></ol></pre>
Permet de scanner les port (<strong style="font-size: 1.5em;">N</strong><span style="font-size: 0.5em;">etwork </span><strong style="font-size: 1.5em;">Map</strong><span style="font-size: 0.5em;">per</span>) et les services ainsi que l'OS.
<div class="pre" title=" Commande : nmap">
    
    Option utile : 
    <code class="Option"><span class="OneLetterOption">-p,</span>      </code>              : <span class="descriptionOption">Spécifié le port ou la plage des ports</span>
    <code class="Option"><span class="OneLetterOption">-v,</span> -vv</code>                : <span class="descriptionOption">pour affichez (-vv: encore) plus d'étapes</span>
    <code class="Option helpDoc"><span class="OneLetterOption">-h,</span>  ,  --help</code>         : <span class="descriptionOption">pour affichez la documentation de base de la commande</span>
    <code class="Option"><span class="OneLetterOption">-R,</span> --recursive</code>        : <span class="descriptionOption">pour affichez récursivement le contenu du répertoire courant et des sous-répertoires</span>
    <code class="Option"><span class="OneLetterOption">-s,</span> --size</code>             : <span class="descriptionOption">pour affichez la taille des fichier</span>
    <span class="Utilisation">Utilisation</span> : <span style="color: salmon;">nmap</span> [<span class="fichier">Scan Type(s)</span>] <span class="Option">[<span class="OneLetterOption">O</span>PTION]...</span> {<span style="color:tomato;">target specification</span>} 
    <span class="Exemple">Example</span> : 
        Attention, à utiliser à vos risques et périls : 
            <span style="color: salmon;">nmap</span>                        |<span style="color: red;">( <strong>Montre la documentation</strong> )</span>
            <span style="color: salmon;">nmap</span> <span style="color:tomato;">127.0.0.1</span> <span class="OneLetterOption">-A</span> <span class="OneLetterOption">-v</span>
            <span style="color: salmon;">nmap</span> <span class="Option">--vv</span> <span class="fichier">-sL</span> <span style="color:tomato;">127.0.0.1</span>
            <span style="color: salmon;">nmap</span> <span style="color:tomato;">127.0.0.1</span> <span class="Option"><span class="OneLetterOption">-p</span>1234</span> <span class="OneLetterOption">-A</span><span class="OneLetterOption">-v</span>
            <span style="color: salmon;">nmap</span> <span style="color:tomato;">127.0.0.1</span> <span class="Option"><span class="OneLetterOption">-p</span>0-10000</span> <span class="OneLetterOption">-A</span><span class="OneLetterOption">-v</span>
    <span class="helpDoc"><span style="color: #ff0000">V</span><span style="color: #ff7f00">o</span><span style="color: #ff9200">i</span><span style="color: #00ff00">r</span><span style="color: #00ffff"> </span><span style="color: #0000ff">a</span><span style="color: #8b00ff">u</span><span style="color: #ff0000">s</span><span style="color: #ff7f00">s</span><span style="color: #ffa900">i</span><span style="color: #00ff00"> </span><span style="color: #3c00ff">:</span><span style="color: #0000ff"> </span><span style="color: gold;"> nmap <span class="Option"><span class="OneLetterOption">-h</span></span></span></span>
</div>
<!-- TODO crawler, john, yes, cat, kex, neofetch, sudo apt,... -->

        <h3 id="Item2Cryptographie">Cryptographie</h3>    

        Example : <br>
        Texte/text          : Texte<br>
        MDP/pwd             : Test<br>
        Texte/text chiffré  : 5RLM\<br>
        <div><br>

            <input type="text" id="inputT" placeholder="Entrer le Texte" value="Texte"><br>
            <input type="text" id="inputM" placeholder="Entrer le MDP" value="Test"><br>
            Cryptage (on préféra le terme chiffrage/chiffrement) : <br>

            <button onclick="testInputC()">Chiffrer</button><br>
            <div id="outputC">Texte Chiffrer</div><br>
        </div>

        déchiffrage : <br>

        <button onclick="testInputD()">Déchiffrer</button><br>
        <div id="outputD">Texte Déhiffré</div><br>
        On remarquera que le chiffrage et le déchiffrage utilise une même fonction en plus d'être simple pour l'instant.
        On pourra voir une version plus sophistiquée par la suite, qui part du même principe mais avec plusieurs couche imbriquée.

        <h3>shift encryption, Chiffrement par décalage ou chiffrement de césar </h3> est une  méthode de chiffrement qui consiste à décaler chaque lettre dans l'alphabet d'un nombre définie de caractère.

        <p>C'est un méthode de chiffrement symétrique qui est très connu et relativement simple à mettre en place.
          Pour avoir un meilleur chiffrement ou un chiffrement plus complexe on peux soit augmenter le nombre de caractère (passer de l'alphabet classique à ASCII à ASCII-extended à UTF-8 par Exemple.) ou mélanger les caractère.
          On peut aussi choisir un nombre de décallage plus grand ou évoluant dans le temps ou au cours des caractères.
          On peut aussi croiser plusieurs chiffrements de César différents et utiliser les techniques précédemment citées comme dans la machine enigma.
          Le déchiffrage consiste à utiliser le même algorithme avec un décallage de -n si il a été chiffré avec un décallage de n. Il faut aussi utiliser le même ensemble de caractère dans le même ordre.

        </p>


        <textarea name="Exemple" id="TestTexteArea" cols="30" rows="10">TODO</textarea><br>

        <h3 id="Item3">Item 3</h3>    
        </section>
        <div class="fin"></div>
        <footer class="kaliSVG">
            <svg class="footer-logo-kaliSVG" viewBox="0 0 135.47 135.47"><path fill="currentcolor" d="m71.766 36.352s-10.212-.6795-27.602 4.7619c-17.722 5.5452-27.773 13.405-27.773 13.405s26.414-14.748 56.228-15.586zm38.09 16.035 1.3276-.08664s-7.6062-9.2286-22.165-13.724c8.1839 3.3267 15.307 7.7345 20.837 13.81zm2.1727 3.8344c.20411-.3539.86302 1.1243 1.3634 1.7453.0212.124.0564.19967-.23373.13998-.0244-.12747-.0665-.16444-.0665-.16444s-.70029-.41667-.91499-.71224c-.21487-.29556-.253-.81255-.14825-1.0086zm17.867 43.93s1.6147-18.538-27.511-22.812c-3.6915-.54163-8.3599-.9585-13.082-.97044-23.344.30865-24.195-26.924-6.6044-28.299 7.2901-.60152 15.995 3.3311 24.505 7.2941-.0316 1.0569.0121 1.9961.70646 2.864.69414.86762 3.3607 1.8142 4.2128 2.3031.85203.48907 3.5816 2.2245 5.2543 4.4017.36275-.67854 3.3921-2.6504 3.3921-2.6504s-.72571.01579-2.414-.61519c-1.6885-.63098-3.6921-2.5401-3.7395-2.6504-.0473-.11052-.0788-.28401.31578-.36295.2996-.25224-.37893-1.0727-.67874-1.3723-.2996-.2998-2.3036-3.7073-2.3508-3.7863-.0473-.07894-.0632-.1577-.20507-.25243-.4419-.1421-2.3826.20506-2.3826.20506s-2.9847-1.4659-4.0135-4.6264c.015.55358-.5118 1.158.0 2.4298-1.5562-.65832-2.8929-1.7811-3.9472-4.5557-.62751 1.5781.0 2.5815.0 2.5815s-3.6646-1.024-4.2509-4.4036c-.6435 1.5171.0 2.4296.0 2.4296s-5.9742-3.1172-15.901-3.1624c-6.646-.60961-8.0296-12.301-7.4139-14.269.0.0-9.586-5.0521-28.456-7.2841-18.87-2.2322-34.346-.33638-34.346-.33638s33.421-1.6039 60.195 9.2356c.91018 4.0709 3.6482 10.851 5.1229 14.11-4.2197 2.9175-8.9781 5.6609-9.7191 15.391-.74074 9.7297 7.6245 18.288 17.998 18.552 9.8502.52469 16.656.59921 24.905 4.8759 7.8739 4.3537 14.33 17.62 14.969 29.551.69008-8.8524-2.632-27.889-18.134-33.669 21.667 3.7917 23.573 19.854 23.573 19.854zm-58.64-65.253-.77963-2.5147s-12.864-2.2844-30.16-1.055c-17.296 1.2294-34.759 7.2839-34.759 7.2839s35.732-8.991 65.698-3.7143"/></svg>
    </footer>
    <footer class="kaliSVG">
        © Raykesh 2024. All rights reserved.
    </footer>
    <script>
        // TODO
        console.log("test");
        // import utf8StringToSha256Hash from "utf8StringToSha256Hash.js";
        console.log("test");
        function testInputC() {
            const inputT = document.getElementById("inputT").value;
            const inputM = document.getElementById("inputM").value;
            // const hashTexte = utf8StringToSha256Hash(inputT);
            const hash = utf8StringToSha256Hash(inputM);
            console.log("inputT   :");
            console.log(inputT)
            console.log("inputM   :");
            console.log(inputM)
            console.log("hash     :");
            // console.log(hashTexte)
            console.log(hash)
            
            var cle = `${hash}`;
            console.log("clée     :");
            console.log(cle)
            // cle = (cle.repeat( inputT.length/cle.length + 1 - inputT.length%cle.length ))
            cle = cle.repeat(Math.ceil(inputT.length / cle.length));
            console.log(cle)
            const encryptedStr = xorEncrypt(inputT, cle);
            console.log(encryptedStr); // Output: a encrypted string
            document.getElementById("outputC").innerHTML = `Encryptée : |${encryptedStr}|`;
            
            // document.getElementById("output").innerHTML = `SHA-256 Hash: ${hash}`;
          }
          function testInputD() {
            const inputT = document.getElementById("inputT").value;
            const inputM = document.getElementById("inputM").value;
            // const hashTexte = utf8StringToSha256Hash(inputT);
            const hash = utf8StringToSha256Hash(inputM);
            console.log("inputT   :");
            console.log(inputT)
            console.log("inputM   :");
            console.log(inputM)
            console.log("hash     :");
            // console.log(hashTexte)
            console.log(hash)
            
            
            var cle = `${hash}`;
            console.log("clée     :");
            console.log(cle)
            cle = cle.repeat(Math.ceil(inputT.length / cle.length));
            console.log(cle)
            const decryptedXorStr = xorEncrypt(inputT, cle);
            console.log(decryptedXorStr); // Output: a decrypted string
            document.getElementById("outputD").innerHTML = `Decrypt : |${decryptedXorStr}|`;
            
            // document.getElementById("output").innerHTML = `SHA-256 Hash: ${hash}`;
        }
        </script>
</body>
</html>
        <script type="module" src="./utf8StringToSha256Hash.js">
        </script>
<script>
function utf8StringToSha256Hash(string) {
  // Convert the UTF-8 string to a Uint8Array
  console.log("Début du hash");
  const utf8Bytes = [];
  for (let i = 0; i < string.length; i++) {
    let charCode = string.charCodeAt(i);
    if (charCode < 0x80) {
      utf8Bytes.push(charCode);
    } else if (charCode < 0x800) {
      utf8Bytes.push(0xc0 | (charCode >> 6));
      utf8Bytes.push(0x80 | (charCode & 0x3f));
    } else if (charCode < 0xd800 || charCode >= 0xe000) {
      utf8Bytes.push(0xe0 | (charCode >> 12));
      utf8Bytes.push(0x80 | ((charCode >> 6) & 0x3f));
      utf8Bytes.push(0x80 | (charCode & 0x3f));
    } else {
      utf8Bytes.push(0xf0 | (charCode >> 18));
      utf8Bytes.push(0x80 | ((charCode >> 12) & 0x3f));
      utf8Bytes.push(0x80 | ((charCode >> 6) & 0x3f));
      utf8Bytes.push(0x80 | (charCode & 0x3f));
    }
  }

  // SHA-256 constants
  const k = [
    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1,
    0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,
    0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786,
    0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,
    0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,
    0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b,
    0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a,
    0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,
    0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2,
  ];
  console.log("SHA-256 constants définie");

  // SHA-256 functions
  function rotr(x, n) {
    return (x >>> n) | (x << (32 - n));
  }

  function sigma0(x) {
    return rotr(x, 2) ^ rotr(x, 13) ^ rotr(x, 22);
  }

  function sigma1(x) {
    return rotr(x, 6) ^ rotr(x, 11) ^ rotr(x, 25);
  }

  function gamma0(x) {
    return rotr(x, 7) ^ rotr(x, 18) ^ (x >>> 3);
  }

  function gamma1(x) {
    return rotr(x, 17) ^ rotr(x, 19) ^ (x >>> 10);
  }
  console.log("SHA-256 functions définie");

  // SHA-256 main loop
  let h0 = 0x6a09e667;
  let h1 = 0xbb67ae85;
  let h2 = 0x3c6ef372;
  let h3 = 0xa54ff53a;
  let h4 = 0x510e527f;
  let h5 = 0x9b05688c;
  let h6 = 0x1f83d9ab;
  let h7 = 0x5be0cd19;

  for (let i = 0; i < utf8Bytes.length; i += 64) {
    let w = new Array(64);
    for (let j = 0; j < 16; j++) {
      w[j] =
        (utf8Bytes[i + j * 4] << 24) |
        (utf8Bytes[i + j * 4 + 1] << 16) |
        (utf8Bytes[i + j * 4 + 2] << 8) |
        utf8Bytes[i + j * 4 + 3];
    }
    for (let j = 16; j < 64; j++) {
      w[j] = gamma1(w[j - 2]) + w[j - 15];
    }

    let a = h0;
    let b = h1;
    let c = h2;
    let d = h3;
    let e = h4;
    let f = h5;
    let g = h6;
    let h = h7;

    for (let j = 0; j < 64; j++) {
      let S1 = sigma1(e);
      let ch = (e & f) ^ (~e & g);
      let temp1 = h + S1 + ch + k[j] + w[j];
      let S0 = sigma0(a);
      let maj = (a & b) ^ (a & c) ^ (b & c);
      let temp2 = S0 + maj;

      h = g;
      g = f;
      f = e;
      e = (d + temp1) >>> 0;
      d = c;
      c = b;
      b = a;
      a = (temp1 + temp2) >>> 0;
    }

    h0 = (h0 + a) >>> 0;
    h1 = (h1 + b) >>> 0;
    h2 = (h2 + c) >>> 0;
    h3 = (h3 + d) >>> 0;
    h4 = (h4 + e) >>> 0;
    h5 = (h5 + f) >>> 0;
    h6 = (h6 + g) >>> 0;
    h7 = (h7 + h) >>> 0;
  }

  // Convert the hash values to a hexadecimal string
  let hash = [
    h0.toString(16).padStart(8, "0"),
    h1.toString(16).padStart(8, "0"),
    h2.toString(16).padStart(8, "0"),
    h3.toString(16).padStart(8, "0"),
    h4.toString(16).padStart(8, "0"),
    h5.toString(16).padStart(8, "0"),
    h6.toString(16).padStart(8, "0"),
    h7.toString(16).padStart(8, "0"),
  ].join("");
  console.log("SHA-256 hash finie");

  return hash;
}

//TODO
function hashInput() {
  const input = document.getElementById("input").value;
  const hash = utf8StringToSha256Hash(input);
  var hashTest = hash;

  const originalStr = "Hello, World! Test";
  const key = "${hashTest}";
  const encryptedStr = xorEncrypt(originalStr, key);
  console.log(encryptedStr); // Output: a encrypted string
  document.getElementById("output2").innerHTML = `Encrypt : ${encryptedStr}`;

  // To decrypt, simply call the function again with the same key
  const decryptedStr = xorEncrypt(encryptedStr, key);
  console.log(decryptedStr); // Output: a decrypted string
  document.getElementById("output3").innerHTML = `Decrypt : ${decryptedStr}`;

  document.getElementById("output").innerHTML = `SHA-256 Hash: ${hash}`;
}

function xorEncrypt(str, key) {
  let encryptedStr = "";
  for (let i = 0; i < str.length; i++) {
    encryptedStr += String.fromCharCode(
      str.charCodeAt(i) ^ key.charCodeAt(i % key.length)
    );
  }
  return encryptedStr;
}
</script>